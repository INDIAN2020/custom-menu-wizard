/*Source: custom-menu-wizard.js
 *Compiled: 2014-08-29, Google Closure Compiler...
 *STATISTICS
 * - originalSize: 62564
 * - originalGzipSize: 15695
 * - compressedSize: 22446
 * - compressedGzipSize: 7165
*/
jQuery(function(g){var z,y=function(a,b){return(b?".":"")+"widget-custom-menu-wizard-"+a},D=function(a){var b=g(this).data().cmwDialogVersion.replace(/\./g,""),b=/^\d+$/.test(b)?"v"+b:b;z[b]?z[b].update(a?a.target:this):z.update(a?a.target:this)},E=function(a,b,d){var c="tick"===d?b._items_sep:b._exclude_sep,f=[],l="tick"===d?"_items":"_exclude",l=b[l]?g.grep(b[l].split(c),function(b){return/\+$/.test(b)?(f.push(parseInt(b,10)),!b):!!b}):[],l=c+l.join(c)+c,f=c+f.join(c)+c;a=a.each(function(){var b=
g(this),a=b.data(),q=-1<f.indexOf(c+a.itemid+c),a=q||-1<l.indexOf(c+a.itemid+c);b.toggleClass("cmw-has-"+d,a).toggleClass("cmw-inherit-"+d,q)});return a.filter(".cmw-inherit-"+d).find("li").removeClass("cmw-has-"+d+" cmw-inherit-"+d).add(a.filter(".cmw-has-"+d))},B=function(a,b){return(a?a:b)[a?"find":"closest"](y("onchange",1))},H=function(a,b){var d=[],c=a.match(/^(\d+)(\+|-)?$/),f,c=c?[parseInt(c[1],10),c[2]||""]:[];if(0<c[0])for(f=1;f<=b;f++)(f===c[0]||"-"===c[1]&&f<c[0]||"+"===c[1]&&f>c[0])&&
d.push(".level-"+f);return d.join(",")},I=function(a){var b={},d="2.1.0"===a.data("cmwDialogVersion"),c={items:1,exclude:1},f=g.extend({branch_start:1,exclude_level:1,include_level:1},c);g.each(a.find(":input").serializeArray(),function(l,e){var k=e.name.replace(/.*\[([^\]]+)\]$/,"$1"),q=!f[k]&&/^-?\d+$/.test(e.value)?parseInt(e.value,10):e.value;b[k]=q;"hide_empty"===k?b[k]=!!a.data().cmwV36plus||q:c[k]&&(b["_"+k+"_sep"]=!q||/(^\d+\+?$|,)/.test(g.trim(q))?",":" ",q=g.map(q.split(/[,\s]+/),function(b){var a=
!d&&/\+$/.test(b);b=b?parseInt(b,10):0;return isNaN(b)||1>b?null:a?b+"+":b}),b["_"+k]=q.join(b["_"+k+"_sep"]))});return b},J=function(a,b){var d=a.find(".cmw-demo-themenu-ul"),c=d.find(".picked"),f="",l=b.hide_title?"":b.title,e=0,k=a.find(".cmw-demo-theoutput-wrap").empty(),q=["menu-widget"],u={};if(c.length&&k.length){(l=d.find(".title-from-item").children(".cmw-item").text()||"")||b.hide_title||(l=b.title||"");for(c.each(function(a){var c=g(this),d=c.data(),k=d.trace?d.trace.toString().split(","):
[];a=d.itemid.toString();var l=1,c=c.children(".cmw-item");if(!b.flat_output)for(u[a]=1,a=0;a<k.length;a++)u[k[a]]&&l++;if(e)if(l>e)f+=b.ol_sub?"<ol>":"<ul>";else{for(;e>l;)--e,f+="</li>"+(b.ol_sub?"</ol>":"</ul>");f+="</li>"}f+='<li class="cmw-level-'+l+(d.included||"")+'"><a href="#'+c.data("indx")+'">'+c.text()+"</a>";e=l});1<e;)--e,f+="</li>"+(b.ol_sub?"</ol>":"</ul>");f+="</li>";q.push(a.find(".cmw-demo-fallback").data("fellback"));f=(b.ol_root?"<ol":"<ul")+' class="'+g.trim(q.join(" "))+'">'+
f+(b.ol_root?"</ol>":"</ul>");k.html(f);k.find("li").filter(function(){return!!g(this).children("ul, ol").length}).addClass("cmw-has-submenu")}k.length&&l&&(c.length||!b.hide_empty)&&k.prepend("<h3>"+l+"</h3>")},K=function(a,b,d){var c;a.find("optgroup").filter(function(){var b=g(this).data().cmwOptgroupIndex===d;b||g(this).remove();return b}).length||(c=g("#"+a.attr("id")+"_ignore").find("optgroup").eq(d).clone(),c.length&&(0<b&&(b=0),a.append(c).val(b)));return b},L=function(a){a=g(this);var b=
a.data(),d=!b.cmwAbsolute,c=a.closest(".ui-dialog"),f=c.find(".ui-dialog-content"),l=parseInt(c.css("top"),10)+(d?1:-1)*g(document).scrollTop();b.cmwAbsolute=d;b.cmwMaxHeight||(b.cmwMaxHeight=f.dialog("option","maxHeight"));a.button("option","icons",{primary:d?"ui-icon-circle-close":"ui-icon-circle-check"});c.toggleClass("cmw-assistance-dialog-fixed",!d);f.dialog("option",{maxHeight:d?!d:b.cmwMaxHeight});c.css("top",l);return!1},M=function(a){var b=g(this);a=["current-menu-item","current-menu-parent",
"current-menu-ancestor"];var d=b.closest(".ui-dialog-content"),c=d.find(".cmw-demo-themenu-ul"),b=b.find("span").not("."+a[0]).parentsUntil(c,"li"),f,l=function(){this.title=this.title+" "+f.replace(" "," & ").replace(/-/g," ")};c.find("."+a.join(",.")).removeClass(a.join(" ")).each(function(){this.title=this.title.replace(/\s.*$/,"")});for(c=0;c<b.length;c++)f=1===c?a.join(" "):a[0],b.eq(c).children(".cmw-item").find("span").addClass(f).each(l),1<a.length&&a.shift();D.call(g(d.data().cmwOnchange).get(0));
return!1},N=function(a){g(this).closest(".ui-dialog-content").find(".cmw-item").eq(this.href.split("#")[1]).not(":has(.current-menu-item)").trigger("click");this.blur();return!1},O=function(a){a=g(this);var b=a.hasClass("cmw-tick")?"tick":"cross",d=a.parent();a=d.closest(".cmw-demo-themenu-ul");var c=d.hasClass("cmw-inherit-"+b),f=c||d.hasClass("cmw-has-"+b),l=f?g([]):d.parentsUntil(a,".cmw-inherit-"+b),e=g(d.closest(".ui-dialog-content").data().cmwOnchange).find("tick"===b?".cmw-setitems":".cmw-exclusions"),
k;e.length&&(k=a.find(".cmw-has-"+b)[c||l.length?"not":"add"](d),!f||d.children("ul").length&&!a.parent().hasClass("cmw-version-210")?f&&!c&&(k=k.not(d.find(".cmw-has-"+b))):k=k.not(d),k=k.add(l.find("li").not(d)),k=k.map(function(){var a=this===d[0]||this===l.get(0)?f:g(this).hasClass("cmw-inherit-"+b);return g(this).data().itemid+(a?"+":"")}).get().join(/(,|^\d+\+?$)/.test(g.trim(e.val())||",")?",":" "),e.val(k).trigger("change"));this.blur();return!1},P=function(a){var b={autoOpen:!1,width:Math.min(.9*
g(window).width(),600),maxHeight:g(window).height()-40,modal:!1,containment:"window",create:function(){var b=g(this).closest(".ui-dialog");if(b.hasClass("cmw-assistance-dialog-fixed"))g("<button/>").addClass("cmw-dialog-fixed-absolute").button({label:a.cmwDialogFixed,icons:{primary:"ui-icon-circle-check"}}).appendTo(b.find(".ui-dialog-titlebar")).on("click",L)},dialogClass:"cmw-assistance-dialog cmw-assistance-dialog-fixed"},d=g.map(["SetCurrent","Inclusions","Exclusions","Fallback"],function(b){return'<div class="cmw-demo-'+
b.toLowerCase()+' cmw-demo-small">'+(a["cmwDialog"+b]||"")+"</div>"}),d=g("<div/>",{id:a.cmwDialogId}).addClass(y("dialog")).append(g("<div/>").addClass("cmw-demo-themenu cmw-version-"+a.cmwDialogVersion.replace(/\./g,"")).html('<em class="cmw-demo-small">'+a.cmwDialogPrompt+"</em>")).append(g("<div/>").addClass("cmw-demo-theoutput").html('<em class="cmw-demo-small">'+a.cmwDialogOutput+'</em><em class="cmw-demo-plugin-version cmw-demo-small">v'+a.cmwDialogVersion+"</em>"+d.shift()+'<div class="cmw-demo-theoutput-wrap ui-corner-all"></div>'+
d.join(""))).append(g("<div/>").addClass("cmw-demo-theshortcode").html('<code class="ui-corner-all"></code><div class="cmw-find-shortcodes"><a href="#" class="button-secondary '+y("find-shortcodes")+'" data-nonce="'+(a.cmwDialogNonce||"")+'" title="'+a.cmwDialogShortcodes+'"><span class="spinner"></span><span>[&hellip;]</span></a></div><div class="cmw-demo-found-shortcodes cmw-demo-small ui-corner-all"></div>'));d.dialog(b);d.find(".cmw-demo-themenu").on("click",".cmw-tick,.cmw-cross",O).on("click",
".cmw-item",M);d.find(".cmw-demo-theoutput").on("click","a",N);return d},F=function(a,b){a.dialog("option","title","CMW : "+(b.find(".cmw-widget-title").val()||a.data().cmwUntitled)+" ["+b.find(".cmw-select-menu").find("option:selected").text()+"]")},G=function(a){var b=g(a.data().cmwOnchange),d=parseInt(b.find(".cmw-select-menu").val(),10),c=a.find(".cmw-demo-themenu-ul"),f=[],l=0,e="",k=function(b){return 1<b?'<a href="#" class="'+y("colexp")+' ui-icon ui-icon-triangle-1-e" style="left:-'+(2.4*
(b-2)+2)+'em;">&nbsp;</a>':""};if(!c.length||c.data("menuid")!==d){for(b.find(".cmw-assist-items optgroup").find("option").each(function(b){for(var a=g(this),c=a.data().cmwLevel;c<f.length;)e+="</li></ul>"+k(f.length),f.pop();c>f.length?e+="<ul>":(e+="</li>",f.pop());e+='<li class="level-'+c+'" data-itemid="'+this.value+'" data-level="'+c+'" data-trace="'+f.join(",")+'">';e+='<a href="#" class="cmw-cross ui-corner-all"></a>';e+='<a class="cmw-item ui-corner-all" href="#" data-indx="'+b+'"><span class="ui-corner-all" title="#'+
this.value+'">'+g.trim(a.text());e+='</span></a><a href="#" class="cmw-tick ui-corner-all"></a>';f.push(this.value);c>l&&(l=c)});f.length;)e+="</li></ul>"+k(f.length),f.pop();c.remove();a.find(".cmw-demo-themenu").append(g(e).addClass("cmw-demo-themenu-ul").data({maxLevel:l,menuid:d}))}};z={setLevels:function(a,b){if(b){var d=a.find(".cmw-branch-start"),c=d.val();d.find("optgroup").each(function(a){var c=g(this),d=c.find("option"),k=d.length,q=c.data();if(a)for(d.slice(b).remove();k<b;)++k,c.append(g("<option/>",
{value:k}).text(k));else for(k=(k+1)/2,k>b&&d.each(function(a,c){Math.abs(c.value)>=b&&g(c).remove()});k<b;)c.prepend(g("<option/>",{value:-k}).text(-k+(1<k?"":" ("+q.cmwTextParent+")"))).append(g("<option/>",{value:"+"+k}).text("+"+k+(1<k?"":" ("+q.cmwTextChildren+")"))),++k});/^\d+$/.test(c)?c>b&&d.val("1"):""!==c&&Math.abs(c)>=b&&d.val("");a.find(".cmw-ancestors,.cmw-ancestor-siblings").each(function(){var a=g(this),c=(a.find("option").length+1)/2,d=a.val(),k=Math.max(2,b);Math.abs(d)>=b&&a.val(0>
d?1-b:b-1);c!==k&&a.find("optgroup").each(function(b,a){var d=g(a),f=d.data().cmwTextForOption,e;c>k&&d.find("option").slice(k-c).remove();for(e=c;e<k;e++)d.append(g("<option/>",{value:b?e:-e}).text(f.replace("%d",b?e:-e)))})});a.find(".cmw-include-level,.cmw-exclude-level").each(function(){var a=g(this),c=a.find("option"),d=(c.length-1)/3,k=a.val(),q=c.eq(2).text(),u=c.eq(3).text();for(c.slice(3*b+1).remove();d<b;)++d,a.append(g("<option/>",{value:d}).text(d)).append(g("<option/>",{value:d+"-"}).text(q.replace(/\d+/,
d))).append(g("<option/>",{value:d+"+"}).text(u.replace(/\d+/,d)));parseInt(k,10)>b&&a.val("")});a.find(".cmw-set-levels").each(function(){var a=g(this),c=a.data(),d=c.cmwTextLevels||"",c=c.cmwSetLevels||0,k=a.find("option"),q=k.length-c;a.val()>b&&a.val(k.eq(0).val());for(a.find("option").slice(c+b).remove();q<b;)++q,a.append(g("<option/>",{value:q}).text(q+d))})}},setFields:function(a,b){var d=b.find(".cmw-bybranch"),c=b.find(".cmw-byitems").prop("checked"),f=c||!d.prop("checked"),l=b.find(".cmw-assist-items"),
e=parseInt(l.val(),10);a.hasClass("cmw-select-menu")?(e=K(l,e,a[0].selectedIndex),this.setLevels(b,(l.find("optgroup").data()||{}).cmwMaxLevel)):a.hasClass("cmw-level")?(f=!0,c=!f,b.find(".cmw-bylevel").prop("checked",f)):a.is(l)?(f=c=!1,d.prop("checked",!f)):a.hasClass("cmw-setitems")?(f=c=!0,b.find(".cmw-byitems").prop("checked",c)):a.hasClass("cmw-ancestors")&&"0"===a.val()?b.find(".cmw-ancestor-siblings").val("0"):a.hasClass("cmw-ancestor-siblings")&&"0"!==a.val()&&"0"===b.find(".cmw-ancestors").val()&&
b.find(".cmw-ancestors").val(a.val());d=b.find(".cmw-fallback").val();g.each({"-ss":c,"-ud":c||1>b.find(".cmw-depth").val(),"not-br":f,"not-br-ci":f||!!e,"not-fb-pc":f||!!e||"parent"!==d&&"current"!==d},function(a,c){b.find(".cmw-disableif"+a).toggleClass("cmw-colour-grey",c).find("input,select").prop("disabled",c)})},shortcode:function(a){var b={menu:a.menu},d="branch"===a.filter,c="items"===a.filter,f;a.title&&!a.hide_title&&(b.title=[a.title]);!d&&!c&&1<a.level&&(b.level=a.level);d&&(b.branch=
a.branch||"current",a.branch_start&&(b.start_at=[a.branch_start]),"level"===a.start_mode&&(b.start_mode="level"));c&&(b.items=[a._items]);0<a.depth&&(b.depth=a.depth);a.depth_rel_current&&0<a.depth&&(b.depth_rel_current=1);d&&!a.branch&&a.fallback&&(b.fallback=[a.fallback],"quit"!==a.fallback&&(a.fallback_siblings&&b.fallback.push("+siblings"),a.fallback_depth&&b.fallback.push(a.fallback_depth)));d&&a.ancestors&&(b.ancestors=a.ancestors,a.ancestor_siblings&&(b.ancestor_siblings=a.ancestor_siblings));
a.include_level&&(b.include_level=[a.include_level]);a._exclude&&(b.exclude=[a._exclude]);a.exclude_level&&(b.exclude_level=[a.exclude_level]);c=[];a.title_from_current?c.push("current"):a.title_from_current_root&&c.push("current-root");d&&a.title_from_branch?c.push("branch"):d&&a.title_from_branch_root&&c.push("branch-root");c.length&&(b.title_from=c);for(c in{allow_all_root:1,siblings:1,flat_output:1,ol_root:1,ol_sub:1})a[c]&&(b[c]=1);d={contains_current:"",container:"div",container_id:"",container_class:"",
menu_class:"menu-widget",widget_class:""};for(c in d)a[c]!==d[c]&&(b[c]=[a[c]]);d={wrap_link:"before",wrap_link_text:"link_before"};for(c in d)(f=a[d[c]].toString().match(/^<(\w+)/))&&f[1]&&(b[c]=[f[1]]);d=[];for(c in b)d.push(g.isArray(b[c])?c+'="'+b[c].join(",")+'"':c+"="+b[c]);return"[cmwizard "+d.join(" ")+"/]"},update:function(a){var b=g(a);a=B(0,b);var d=g("#"+a.data().cmwDialogId),c=-1,f=9999,l=0,e=0,k="",q,u,p,v,w,m,s,h,y,A,z,x,C,t,r,n;b.hasClass("cmw-listen")&&this.setFields(b,a);m=I(a);
if(d.length&&d.dialog("isOpen")){d.dialog("moveToTop");b.hasClass("cmw-select-menu")&&G(d);b="branch"===m.filter;u="items"===m.filter;q=!b&&!u;v=b&&!m.branch;s=d.find(".cmw-demo-themenu-ul");w=s.data().maxLevel;x=s.find(".current-menu-item").closest("li");C=x.length?x.data().level:-1;h=s.find("li").removeData("included").removeClass("title-from-item");A=m.depth;z=m.depth_rel_current;y=E(h,m,"cross");u&&(h=E(h,m,"tick"));b&&h.length&&(t=v?x:h.filter("[data-itemid="+m.branch+"]"),t.length?(c=t.data().level||
0,h=t.add(t.find("li")),p=t):h=g([]));if(q&&h.length&&1<m.level){r=1;for(n=[];r<m.level;r++)n.push(".level-"+r);h=h.not(n.join(","))}"menu"===m.contains_current&&h.length&&!x.length&&(h=g([]));"primary"===m.contains_current&&h.length&&!x.is(h)&&(h=g([]));if(q&&h.length&&A&&(r=z&&C>=m.level?C:m.level,r+=A,r<=w)){for(n=[];r<=w;r++)n.push(".level-"+r);h=h.not(n.join(","))}if(b&&h.length&&(n=parseInt(m.branch_start,10),n=isNaN(n)||!n?c:m.branch_start.match(/^(\+|-)/)?Math.max(1,c+n):n,v&&m.fallback&&
!x.find("li").length&&(k="cmw-fellback-to-"+m.fallback,"quit"===m.fallback?n=w+1:(n="current"===m.fallback||2>c?c:c-1,m.fallback_depth&&(A=m.fallback_depth,z=1))),n>w?h=g([]):(n<c&&(t=t.parentsUntil(s,"li.level-"+n)),"level"===m.start_mode&&n<=c&&(1<n||m.allow_all_root)?h=t.parent().find("li"):n<c&&(h=t.add(t.find("li"))),k&&m.fallback_siblings&&h.length&&(1<n||m.allow_all_root)&&(h=h.add(t.siblings("li.level-"+n)))),h.length)){c=n;t=9999;A&&(t=z&&C>=c&&h.filter(x).length?C:c,t+=A,f=t-1);r=1;for(n=
[];r<=w;r++)r>=c&&r<t&&n.push(".level-"+r);h=h.filter(n.join(","))}"secondary"===m.contains_current&&h.length&&!x.is(h)&&(h=g([]));if(b&&h.length){n=p.data().level;if(m.ancestors&&(p.is(h)||n>f)){r=m.ancestors;0>r&&(r=Math.max(1,n+r));c=m.ancestor_siblings;0>c&&(c=Math.max(1,n+c));n=[];for(t=[];r<=w;r++)r<=f&&(n.push(".level-"+r),0<c&&r>=c&&t.push(".level-"+r));r=h.length;n=p.parentsUntil(s,n.join(","));h=h.add(n.not(h).data("included"," cmw-an-included-ancestor"));t.length&&(h=h.add(n.filter(t.join(",")).siblings("li").not(h).data("included",
" cmw-an-included-ancestor-sibling")));l+=h.length-r}m.siblings&&p.is(h)&&(n=h.length,h=h.add(p.siblings("li").data("included"," cmw-an-included-sibling")),l+=h.length-n)}h.length&&m.include_level&&(t=H(m.include_level,w))&&(n=h.length,h=h.add(s.find(t)),l+=h.length-n);"inclusions"===m.contains_current&&h.length&&!x.is(h)&&(h=g([]));h.length&&y.length&&(n=h.length,h=h.not(y),e+=n-h.length);h.length&&m.exclude_level&&(t=H(m.exclude_level,w))&&(n=h.length,h=h.not(t),e+=n-h.length);"output"===m.contains_current&&
h.length&&!x.is(h)&&(h=g([]));m.title_from_current&&x.length?x.addClass("title-from-item"):m.title_from_current_root&&x.length?x.closest(".level-1").addClass("title-from-item"):b&&p&&(m.title_from_branch?p.addClass("title-from-item"):m.title_from_branch_root&&p.closest(".level-1").addClass("title-from-item"));d.find(".cmw-demo-fallback").data("fellback",k).toggleClass("updated",!!k);d.find(".cmw-demo-setcurrent").toggleClass("error",!x.length&&(!!m.contains_current||v));r={inclusions:l,exclusions:e};
for(n in r)t=d.find(".cmw-demo-"+n),t.text(t.text().replace(/\d+$/,r[n])).toggleClass("updated",0<r[n]);s.toggleClass("cmw-demo-filteritems",u).find(".picked").not(h.addClass("picked")).removeClass("picked");F(d,a);J(d,m)}a.add(d).find("code").text(this.shortcode(m))},v210:{setLevels:function(a,b){var d=a.find(".cmw-start-level"),c=d.val(),f=d.find("option").length,l;c>b&&d.val(1);for(d.find("option").slice(b).remove();f<b;)++f,d.append(g("<option/>",{value:f}).text(f));d=a.find(".cmw-depth");c=d.val();
f=d.find("option").length;l=d.data().cmwTextLevels;c>b&&d.val(0);for(d.find("option").slice(b+1).remove();f<=b;)d.append(g("<option/>",{value:f}).text(f+l)),++f},setFields:function(a,b){var d=b.find(".cmw-showall").prop("checked"),c=b.find(".cmw-showspecific").prop("checked"),f=b.find(".cmw-assist-items"),l=parseInt(f.val(),10);a.hasClass("cmw-select-menu")&&(l=K(f,l,a[0].selectedIndex),this.setLevels(b,(f.find("optgroup").data()||{}).cmwMaxLevel));g.each({"":d||c,"-ss":c,"not-rp":d||c||0<=l,"not-ci":d||
c||!!l},function(a,c){b.find(".cmw-disableif"+a).toggleClass("cmw-colour-grey",c).find("input,select").prop("disabled",c)})},shortcode:function(a){var b={menu:a.menu},d=0<a.filter,c=!!a.filter&&!d,f;a.title&&(b.title=[a.title]);if(d)switch(a.filter_item){case 0:b.children_of=["current"];break;case -1:b.children_of=["parent"];break;case -2:b.children_of=["root"];break;default:b.children_of=a.filter_item}c&&(b.items=[a._items]);d&&0>a.filter_item&&a.fallback_no_ancestor&&(b.fallback_parent=a.fallback_include_parent_siblings?
["siblings"]:a.fallback_include_parent?["parent"]:1);d&&!a.filter_item&&a.fallback_no_children&&(b.fallback_current=a.fallback_nc_include_parent_siblings?["siblings"]:a.fallback_nc_include_parent?["parent"]:1);1<a.start_level&&(b.start_level=a.start_level);0<a.depth&&(b.depth=a.depth);a.depth_rel_current&&0<a.depth&&(b.depth_rel_current=1);c=[];d&&(a.include_parent_siblings?c.push("siblings"):a.include_parent&&c.push("parent"),a.include_ancestors&&c.push("ancestors"),c.length&&(b.include=c));c=[];
d&&a.title_from_parent&&c.push("parent");a.title_from_current&&c.push("current");c.length&&(b.title_from=c);for(c in{flat_output:1,contains_current:1,ol_root:1,ol_sub:1})a[c]&&(b[c]=1);d={container:"div",container_id:"",container_class:"",menu_class:"menu-widget",widget_class:""};for(c in d)a[c]!==d[c]&&(b[c]=[a[c]]);d={wrap_link:"before",wrap_link_text:"link_before"};for(c in d)(f=a[d[c]].toString().match(/^<(\w+)/))&&f[1]&&(b[c]=[f[1]]);d=[];for(c in b)d.push(g.isArray(b[c])?c+'="'+b[c].join(" ")+
'"':c+"="+b[c]);return"[custom_menu_wizard "+d.join(" ")+"]"},update:function(a){var b=g(a);a=B(0,b);var d=g("#"+a.data().cmwDialogId),c,f,l,e,k,q,u,p,v,w,m,s,h;b.hasClass("cmw-listen")&&this.setFields(b,a);if(d.length&&d.dialog("isOpen")){d.dialog("moveToTop");b.hasClass("cmw-select-menu")&&G(d);e=I(a);c=!e.filter;b=0<e.filter;f=!c&&!b;k=e.include_parent;q=e.include_parent_siblings;u=d.find(".cmw-demo-themenu-ul");l=u.data().maxLevel;v=u.find(".current-menu-item").closest("li");w=v.length?v.data().level:
-1;p=u.find("li").removeData("included").removeClass("title-from-item");f&&(p=E(p,e,"tick"));p.length&&!v.length&&(e.contains_current||b&&1>e.filter_item)&&(p=g([]));p.length&&b&&(0<e.filter_item?s=p.filter("[data-itemid="+e.filter_item+"]"):e.filter_item?1===w&&e.fallback_no_ancestor?(s=v,k=k||e.fallback_include_parent,q=q||e.fallback_include_parent_siblings,m="cmw-fellback-to-current"):s=1===w?u:-1>e.filter_item?u.find(".current-menu-ancestor").eq(0).closest("li"):u.find(".current-menu-parent").closest("li"):
v.find("li").length?s=v:e.fallback_no_children&&(s=u.find(".current-menu-parent").closest("li"),s.length||(s=u),k=k||e.fallback_nc_include_parent,q=q||e.fallback_nc_include_parent_siblings,m="cmw-fellback-to-parent"));if(p.length)if(c)for(h=e.depth_rel_current&&e.depth&&v.length&&w>=e.start_level?w+e.depth-1:e.depth?e.start_level+e.depth-1:9999,c=1;c<=l;c++){if(c<e.start_level||c>h)p=p.not(".level-"+c)}else s&&s.length?(h=e.depth_rel_current&&e.depth&&v.length&&s.has(v[0]).length?w-1+e.depth:e.depth?
Math.max((s.data().level||0)+e.depth,e.start_level+e.depth-1):9999,p=s.find("li").filter(function(){var a=g(this).data().level;return a>=e.start_level&&a<=h})):b&&(p=g([]));p.length&&b&&s&&s.is("li")&&(q&&(p=p.add(s.siblings("li").data("included"," cmw-an-included-parent-sibling")),k=!0),e.include_ancestors&&(p=p.add(s.parentsUntil(u,"li").data("included"," cmw-an-included-ancestor")),k=!0),k&&(p=p.add(s.data("included"," cmw-the-included-parent"))));!p.length||!e.contains_current||v.length&&p.filter(v).length||
(p=g([]));e.title_from_parent&&p.length&&s&&s.is("li")?s.addClass("title-from-item"):e.title_from_current&&p.length&&v.addClass("title-from-item");m=p.length?m:"";d.find(".cmw-demo-fallback").data("fellback",m).toggleClass("updated",!!m);d.find(".cmw-demo-setcurrent").toggleClass("error",!v.length&&(e.contains_current||b&&1>e.filter_item));u.toggleClass("cmw-demo-filteritems",f).find(".picked").not(p.addClass("picked")).removeClass("picked");F(d,a);J(d,e);d.find("code").text(this.shortcode(e))}}}};
g(document).on("change",y("onchange",1),D).on("click",y("assist",1),function(a){a=g(this);a=B(0,a);var b=a.data(),d=g("#"+b.cmwDialogId);d.length||(d=P(b).data({cmwOnchange:"#"+a.attr("id"),cmwUntitled:"["+b.cmwDialogUntitled+"]"}));d.dialog("isOpen")?d.dialog("close"):(G(d),F(d,a),d.dialog("open"),D.call(a[0]));this.blur();return!1}).on("click",y("fieldset",1),function(a){a=g(this);var b=a.next(".cmw-fieldset-state"),d=!b.prop("checked");b.length&&(b.prop("checked",d),a.toggleClass("cmw-collapsed-fieldset",
d),b.next("div")[d?"slideUp":"slideDown"]());this.blur();return!1}).on("click",".widget-action,.widget-control-close",function(a){a=g(this).closest("div.widget");var b=a.parent();b.hasClass("customize-control-widget_form")&&!b.hasClass("expanded")||B(a).each(function(){var a=g("#"+g(this).data().cmwDialogId);a.length&&a.dialog("isOpen")&&a.dialog("close")})}).on("click",".widget-control-remove",function(a){B(g(this).closest("div.widget")).each(function(){var a=g("#"+g(this).data().cmwDialogId);a.length&&
(a.dialog("destroy"),a.remove())})}).on("click",y("colexp",1),function(a){a=/1-e/.test(this.className)?"slideUp":"slideDown";g(this).toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e").prev("ul")[a]();return!1}).on("click",y("find-shortcodes",1),function(a){a=g(this);var b=a.parent().parent();ajaxurl&&!b.hasClass("cmw-ajax-fetching")&&(b.hasClass("cmw-ajax-showing")?b.removeClass("cmw-ajax-showing"):(b.addClass("cmw-ajax-fetching"),g.post(ajaxurl,{action:"cmw-find-shortcodes",_wpnonce:a.data().nonce}).done(function(a){a&&
"0"!==a&&(b.find(".cmw-demo-found-shortcodes").html(g(a).find("response_data").text()),b.addClass("cmw-ajax-showing"))}).always(function(a){b.removeClass("cmw-ajax-fetching")})));this.blur();return!1}).on("click",y("legacy-close",1),function(){g(this).parent().remove();return!1});window.Custom_Menu_Wizard_Widget&&g(window.Custom_Menu_Wizard_Widget.trigger||[]).trigger("change")});